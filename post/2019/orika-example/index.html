<!doctype html><html><head><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/g.nereusyi.com\/"},"articleSection":"post","name":"Orika使用实例","headline":"Orika使用实例","description":"postman添加公共HTTP头的方法","inLanguage":"en","author":"","creator":"","publisher":"","accountablePerson":"","copyrightHolder":"","copyrightYear":"2019","datePublished":"2019-12-07 13:28:09 \u002b0800 HKT","dateModified":"2019-12-07 13:28:09 \u002b0800 HKT","url":"https:\/\/g.nereusyi.com\/post\/2019\/orika-example\/","wordCount":"313","keywords":["java","example","Blog"]}</script><meta charset=utf-8><title>Orika使用实例 - NereusYi</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.81.0"><meta name=description content="postman添加公共HTTP头的方法"><meta name=twitter:card content="summary"><meta name=twitter:title content="Orika使用实例"><meta name=twitter:description content="postman添加公共HTTP头的方法"><meta property="og:title" content="Orika使用实例"><meta property="og:description" content="postman添加公共HTTP头的方法"><meta property="og:type" content="article"><meta property="og:url" content="https://g.nereusyi.com/post/2019/orika-example/"><meta property="article:section" content="post"><meta property="article:published_time" content="2019-12-07T13:28:09+08:00"><meta property="article:modified_time" content="2019-12-07T13:28:09+08:00"><meta property="og:image" content="https://g.nereusyi.com//images/logo.png"><meta property="og:image:type" content="image/png"><meta property="og:image:width" content="512"><meta property="og:image:height" content="512"><meta content="orika,example,orika example" name=keywords><meta itemprop=name content="Orika使用实例"><meta itemprop=description content="postman添加公共HTTP头的方法"><meta itemprop=datePublished content="2019-12-07T13:28:09+08:00"><meta itemprop=dateModified content="2019-12-07T13:28:09+08:00"><meta itemprop=wordCount content="313"><meta itemprop=keywords content="java,example,"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Raleway:400,800,900|Source+Sans+Pro:400,700"><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.css><link rel=stylesheet href=https://g.nereusyi.com/css/main.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css><link href=//cdn.bootcss.com/highlight.js/9.11.0/styles/github.min.css rel=stylesheet type=text/css><script async src="https://www.googletagmanager.com/gtag/js?id=UA-140619403-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','UA-140619403-1')</script><script>var _hmt=_hmt||[];(function(){var a=document.createElement("script"),b;a.src="https://hm.baidu.com/hm.js?cad0d60e6cbf96c36edba25513ef42db",b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(a,b)})()</script></head><body><div id=wrapper><header id=header><h1><a href=https://g.nereusyi.com/>Nereus</a></h1><nav class=links><ul><li><a href=https://g.nereusyi.com/post/><i class="fa fa-home">&nbsp;</i>Home</a></li><li><a href=https://g.nereusyi.com/post/><i class="fa fa-newspaper-o">&nbsp;</i>Blog</a></li><li><a href=https://g.nereusyi.com/categories/><i class="fa fa-sitemap">&nbsp;</i>Categories</a></li><li><a href=https://g.nereusyi.com/about/><i class="fa fa-id-card-o">&nbsp;</i>About</a></li></ul></nav><nav class=main><ul><li id=share-nav class=share-menu style=display:none><a class=fa-share-alt href=#share-menu>Share</a></li><li class=search><a class=fa-search href=#search>Search</a><form id=search method=get action=//google.com/search><input type=text name=q placeholder=Search>
<input type=hidden name=as_sitesearch value=https://g.nereusyi.com/></form></li><li class=menu><a class=fa-bars href=#menu>Menu</a></li></ul></nav></header><section id=menu><section><form class=search method=get action=//google.com/search><input type=text name=q placeholder=Search>
<input type=hidden name=as_sitesearch value=https://g.nereusyi.com/></form></section><section><ul class=links><li><a href=https://g.nereusyi.com/post/><h3><i class="fa fa-home">&nbsp;</i>Home</h3></a></li><li><a href=https://g.nereusyi.com/post/><h3><i class="fa fa-newspaper-o">&nbsp;</i>Blog</h3></a></li><li><a href=https://g.nereusyi.com/categories/><h3><i class="fa fa-sitemap">&nbsp;</i>Categories</h3></a></li><li><a href=https://g.nereusyi.com/about/><h3><i class="fa fa-id-card-o">&nbsp;</i>About</h3></a></li></ul></section><section class=recent-posts><div class=mini-posts><header><h3>Recent Posts</h3></header><article class=mini-post><header><h3><a href=https://g.nereusyi.com/post/>Post</a></h3><time class=published datetime=2021-03-20>March 20, 2021</time></header></article><article class=mini-post><header><h3><a href=https://g.nereusyi.com/post/2021/03/spring-boot-actuator-demo/>Spring Boot Actuator 2 示例</a></h3><time class=published datetime=2021-03-20>March 20, 2021</time></header></article><a href=/post/ class=button>View more posts</a></div></section></section><section id=share-menu><section id=social-share-nav><ul class=links><header><h3>Share this post <i class="fa fa-smile-o"></i></h3></header><li><a href="//twitter.com/share?url=https%3a%2f%2fg.nereusyi.com%2fpost%2f2019%2forika-example%2f&text=Orika%e4%bd%bf%e7%94%a8%e5%ae%9e%e4%be%8b&via=" target=_blank class="share-btn twitter"><i class="fa fa-twitter"></i><p>Twitter</p></a></li><li><a href="//plus.google.com/share?url=https%3a%2f%2fg.nereusyi.com%2fpost%2f2019%2forika-example%2f" target=_blank class="share-btn google-plus"><i class="fa fa-google-plus"></i><p>Google+</p></a></li><li><a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fg.nereusyi.com%2fpost%2f2019%2forika-example%2f" target=_blank class="share-btn facebook"><i class="fa fa-facebook"></i><p>Facebook</p></a></li><li><a href="//reddit.com/submit?url=https%3a%2f%2fg.nereusyi.com%2fpost%2f2019%2forika-example%2f&title=Orika%e4%bd%bf%e7%94%a8%e5%ae%9e%e4%be%8b" target=_blank class="share-btn reddit"><i class="fa fa-reddit-alien"></i><p>Reddit</p></a></li><li><a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fg.nereusyi.com%2fpost%2f2019%2forika-example%2f&title=Orika%e4%bd%bf%e7%94%a8%e5%ae%9e%e4%be%8b" target=_blank class="share-btn linkedin"><i class="fa fa-linkedin"></i><p>LinkedIn</p></a></li><li><a href="//www.stumbleupon.com/submit?url=https%3a%2f%2fg.nereusyi.com%2fpost%2f2019%2forika-example%2f&title=Orika%e4%bd%bf%e7%94%a8%e5%ae%9e%e4%be%8b" target=_blank class="share-btn stumbleupon"><i class="fa fa-stumbleupon"></i><p>StumbleUpon</p></a></li><li><a href="//www.pinterest.com/pin/create/button/?url=https%3a%2f%2fg.nereusyi.com%2fpost%2f2019%2forika-example%2f&description=Orika%e4%bd%bf%e7%94%a8%e5%ae%9e%e4%be%8b" target=_blank class="share-btn pinterest"><i class="fa fa-pinterest-p"></i><p>Pinterest</p></a></li><li><a href="mailto:?subject=Check out this post by &body=https%3a%2f%2fg.nereusyi.com%2fpost%2f2019%2forika-example%2f" target=_blank class="share-btn email"><i class="fa fa-envelope"></i><p>Email</p></a></li></ul></section></section><div id=main><article class=post><header><div class=title><h1><a href=https://g.nereusyi.com/post/2019/orika-example/>Orika使用实例</a></h1><p>postman添加公共HTTP头的方法</p></div><div class=meta><time class=published datetime=2019-12-07>December 7, 2019</time>
<span class=author></span><p>2 minute read</p></div></header><section id=social-share><ul class=icons><li><a href="//twitter.com/share?url=https%3a%2f%2fg.nereusyi.com%2fpost%2f2019%2forika-example%2f&text=Orika%e4%bd%bf%e7%94%a8%e5%ae%9e%e4%be%8b&via=" target=_blank class="share-btn twitter"><i class="fa fa-twitter"></i><p>Twitter</p></a></li><li><a href="//plus.google.com/share?url=https%3a%2f%2fg.nereusyi.com%2fpost%2f2019%2forika-example%2f" target=_blank class="share-btn google-plus"><i class="fa fa-google-plus"></i><p>Google+</p></a></li><li><a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fg.nereusyi.com%2fpost%2f2019%2forika-example%2f" target=_blank class="share-btn facebook"><i class="fa fa-facebook"></i><p>Facebook</p></a></li><li><a href="//reddit.com/submit?url=https%3a%2f%2fg.nereusyi.com%2fpost%2f2019%2forika-example%2f&title=Orika%e4%bd%bf%e7%94%a8%e5%ae%9e%e4%be%8b" target=_blank class="share-btn reddit"><i class="fa fa-reddit-alien"></i><p>Reddit</p></a></li><li><a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fg.nereusyi.com%2fpost%2f2019%2forika-example%2f&title=Orika%e4%bd%bf%e7%94%a8%e5%ae%9e%e4%be%8b" target=_blank class="share-btn linkedin"><i class="fa fa-linkedin"></i><p>LinkedIn</p></a></li><li><a href="//www.stumbleupon.com/submit?url=https%3a%2f%2fg.nereusyi.com%2fpost%2f2019%2forika-example%2f&title=Orika%e4%bd%bf%e7%94%a8%e5%ae%9e%e4%be%8b" target=_blank class="share-btn stumbleupon"><i class="fa fa-stumbleupon"></i><p>StumbleUpon</p></a></li><li><a href="//www.pinterest.com/pin/create/button/?url=https%3a%2f%2fg.nereusyi.com%2fpost%2f2019%2forika-example%2f&description=Orika%e4%bd%bf%e7%94%a8%e5%ae%9e%e4%be%8b" target=_blank class="share-btn pinterest"><i class="fa fa-pinterest-p"></i><p>Pinterest</p></a></li><li><a href="mailto:?subject=Check out this post by &body=https%3a%2f%2fg.nereusyi.com%2fpost%2f2019%2forika-example%2f" target=_blank class="share-btn email"><i class="fa fa-envelope"></i><p>Email</p></a></li></ul></section><div id=content><h1 id=简述>简述</h1><p>在项目中使用过不少Java Bean映射（Java Bean属性拷贝）类库，比如Apache和Spring的<code>BeanUtils</code>，<code>cglib</code>的<code>BeanCopier</code>等。
Apache和Spring的<code>BeanUtils</code>没有对list拷贝的内置支持，对属性不同类型的转换也缺乏默认的支持，需要做不少封装。
<code>cglib</code>的<code>BeanCopier</code>的API相对来说比较难使用，虽然速度极快，但需要做更多的封装，可读性不好。</p><p>综合下来，发现<code>Orika</code>能较好的满足各项常见的Java Bean映射需求。</p><h1 id=使用实例>使用实例</h1><p>在实际使用中，通常可以把<code>Orika</code>封装成一个静态工具类，示例如下：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>BeanMapperUtils</span> <span style=color:#f92672>{</span>

    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>final</span> DefaultMapperFactory mapperFactory <span style=color:#f92672>;</span>
    
    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>final</span> MapperFacade mapper<span style=color:#f92672>;</span>
    
    <span style=color:#66d9ef>static</span> <span style=color:#f92672>{</span>
        mapperFactory <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> DefaultMapperFactory<span style=color:#f92672>.</span><span style=color:#a6e22e>Builder</span><span style=color:#f92672>().</span><span style=color:#a6e22e>build</span><span style=color:#f92672>();</span>
        mapper <span style=color:#f92672>=</span> mapperFactory<span style=color:#f92672>.</span><span style=color:#a6e22e>getMapperFacade</span><span style=color:#f92672>();</span>
    <span style=color:#f92672>}</span>


    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#f92672>&lt;</span>S<span style=color:#f92672>,</span> D<span style=color:#f92672>&gt;</span> D <span style=color:#a6e22e>map</span><span style=color:#f92672>(</span>S s<span style=color:#f92672>,</span> Class<span style=color:#f92672>&lt;</span>D<span style=color:#f92672>&gt;</span> aClass<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>return</span> mapper<span style=color:#f92672>.</span><span style=color:#a6e22e>map</span><span style=color:#f92672>(</span>s<span style=color:#f92672>,</span> aClass<span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>

    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#f92672>&lt;</span>S<span style=color:#f92672>,</span> D<span style=color:#f92672>&gt;</span> List<span style=color:#f92672>&lt;</span>D<span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>mapAsList</span><span style=color:#f92672>(</span>Iterable<span style=color:#f92672>&lt;</span>S<span style=color:#f92672>&gt;</span> iterable<span style=color:#f92672>,</span> Class<span style=color:#f92672>&lt;</span>D<span style=color:#f92672>&gt;</span> aClass<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>return</span> mapper<span style=color:#f92672>.</span><span style=color:#a6e22e>mapAsList</span><span style=color:#f92672>(</span>iterable<span style=color:#f92672>,</span> aClass<span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>

<span style=color:#f92672>}</span>
</code></pre></div><p><code>MapperFactory</code>和<code>MapperFacade</code>都是线程安全的，可以使用单例模式。详情可参考<a href=http://orika-mapper.github.io/orika-docs/performance-tuning.html>官方文档</a>的<code>Use the MapperFactory as a singleton</code>章节。</p><p>静态工具类的方法使用委托模式，可以根据需求，只委托一些常用的方法。</p><p>示例实体类：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Customer</span> <span style=color:#f92672>{</span>

    <span style=color:#66d9ef>private</span> Long id<span style=color:#f92672>;</span>

    <span style=color:#66d9ef>private</span> String name<span style=color:#f92672>;</span>

    <span style=color:#66d9ef>private</span> Date birthday<span style=color:#f92672>;</span>

    <span style=color:#75715e>//省略 getter setter...
</span><span style=color:#75715e></span>
    <span style=color:#a6e22e>@Override</span>
    <span style=color:#66d9ef>public</span> String <span style=color:#a6e22e>toString</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;Customer{&#34;</span> <span style=color:#f92672>+</span>
                <span style=color:#e6db74>&#34;id=&#34;</span> <span style=color:#f92672>+</span> id <span style=color:#f92672>+</span>
                <span style=color:#e6db74>&#34;, name=&#39;&#34;</span> <span style=color:#f92672>+</span> name <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;\&#39;&#39;</span> <span style=color:#f92672>+</span>
                <span style=color:#e6db74>&#34;, birthday=&#34;</span> <span style=color:#f92672>+</span> birthday <span style=color:#f92672>+</span>
                <span style=color:#e6db74>&#39;}&#39;</span><span style=color:#f92672>;</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>CustomerDTO</span> <span style=color:#f92672>{</span>

    <span style=color:#66d9ef>private</span> Long customerId<span style=color:#f92672>;</span>

    <span style=color:#66d9ef>private</span> String name<span style=color:#f92672>;</span>

    <span style=color:#66d9ef>private</span> String birthday<span style=color:#f92672>;</span>

	<span style=color:#75715e>//省略 getter setter...
</span><span style=color:#75715e></span>
    <span style=color:#a6e22e>@Override</span>
    <span style=color:#66d9ef>public</span> String <span style=color:#a6e22e>toString</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;CustomerDTO{&#34;</span> <span style=color:#f92672>+</span>
                <span style=color:#e6db74>&#34;customerId=&#34;</span> <span style=color:#f92672>+</span> customerId <span style=color:#f92672>+</span>
                <span style=color:#e6db74>&#34;, name=&#39;&#34;</span> <span style=color:#f92672>+</span> name <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;\&#39;&#39;</span> <span style=color:#f92672>+</span>
                <span style=color:#e6db74>&#34;, birthday=&#39;&#34;</span> <span style=color:#f92672>+</span> birthday <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;\&#39;&#39;</span> <span style=color:#f92672>+</span>
                <span style=color:#e6db74>&#39;}&#39;</span><span style=color:#f92672>;</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>
</code></pre></div><h2 id=常用简单示例>常用简单示例</h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#a6e22e>@Test</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>commonBeanMapperTest</span><span style=color:#f92672>(){</span>
    Customer c <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Customer<span style=color:#f92672>();</span>
    c<span style=color:#f92672>.</span><span style=color:#a6e22e>setName</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;foo1&#34;</span><span style=color:#f92672>);</span>

    CustomerDTO dto <span style=color:#f92672>=</span> BeanMapperUtils<span style=color:#f92672>.</span><span style=color:#a6e22e>map</span><span style=color:#f92672>(</span>c<span style=color:#f92672>,</span> CustomerDTO<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>);</span>
    Assert<span style=color:#f92672>.</span><span style=color:#a6e22e>assertEquals</span><span style=color:#f92672>(</span>dto<span style=color:#f92672>.</span><span style=color:#a6e22e>getName</span><span style=color:#f92672>(),</span> c<span style=color:#f92672>.</span><span style=color:#a6e22e>getName</span><span style=color:#f92672>());</span>
    System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>c<span style=color:#f92672>.</span><span style=color:#a6e22e>getName</span><span style=color:#f92672>());</span>
<span style=color:#f92672>}</span>
</code></pre></div><p>结果没有异常，输出为：<code>foo1</code>。</p><h2 id=list转换示例>List转换示例</h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#a6e22e>@Test</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>listMapperTest</span><span style=color:#f92672>(){</span>
        Customer c <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Customer<span style=color:#f92672>();</span>
        c<span style=color:#f92672>.</span><span style=color:#a6e22e>setName</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;foo1&#34;</span><span style=color:#f92672>);</span>

        Customer c2 <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Customer<span style=color:#f92672>();</span>
        c2<span style=color:#f92672>.</span><span style=color:#a6e22e>setName</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;foo2&#34;</span><span style=color:#f92672>);</span>

        ArrayList<span style=color:#f92672>&lt;</span>Customer<span style=color:#f92672>&gt;</span> list <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ArrayList<span style=color:#f92672>&lt;&gt;();</span>
        list<span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span>c<span style=color:#f92672>);</span>
        list<span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span>c2<span style=color:#f92672>);</span>
        List<span style=color:#f92672>&lt;</span>CustomerDTO<span style=color:#f92672>&gt;</span> dtoList <span style=color:#f92672>=</span> BeanMapperUtils<span style=color:#f92672>.</span><span style=color:#a6e22e>mapAsList</span><span style=color:#f92672>(</span>list<span style=color:#f92672>,</span> CustomerDTO<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>);</span>

        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>list<span style=color:#f92672>);</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>dtoList<span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>
</code></pre></div><p>输出结果：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#f92672>[</span>Customer<span style=color:#f92672>{</span>id<span style=color:#f92672>=</span><span style=color:#66d9ef>null</span><span style=color:#f92672>,</span> name<span style=color:#f92672>=</span><span style=color:#960050;background-color:#1e0010>&#39;</span>foo1<span style=color:#960050;background-color:#1e0010>&#39;</span><span style=color:#f92672>,</span> birthday<span style=color:#f92672>=</span><span style=color:#66d9ef>null</span><span style=color:#f92672>},</span> Customer<span style=color:#f92672>{</span>id<span style=color:#f92672>=</span><span style=color:#66d9ef>null</span><span style=color:#f92672>,</span> name<span style=color:#f92672>=</span><span style=color:#960050;background-color:#1e0010>&#39;</span>foo2<span style=color:#960050;background-color:#1e0010>&#39;</span><span style=color:#f92672>,</span> birthday<span style=color:#f92672>=</span><span style=color:#66d9ef>null</span><span style=color:#f92672>}]</span>

<span style=color:#f92672>[</span>CustomerDTO<span style=color:#f92672>{</span>customerId<span style=color:#f92672>=</span><span style=color:#66d9ef>null</span><span style=color:#f92672>,</span> name<span style=color:#f92672>=</span><span style=color:#960050;background-color:#1e0010>&#39;</span>foo1<span style=color:#960050;background-color:#1e0010>&#39;</span><span style=color:#f92672>,</span> birthday<span style=color:#f92672>=</span><span style=color:#960050;background-color:#1e0010>&#39;</span><span style=color:#66d9ef>null</span><span style=color:#960050;background-color:#1e0010>&#39;</span><span style=color:#f92672>},</span> CustomerDTO<span style=color:#f92672>{</span>customerId<span style=color:#f92672>=</span><span style=color:#66d9ef>null</span><span style=color:#f92672>,</span> name<span style=color:#f92672>=</span><span style=color:#960050;background-color:#1e0010>&#39;</span>foo2<span style=color:#960050;background-color:#1e0010>&#39;</span><span style=color:#f92672>,</span> birthday<span style=color:#f92672>=</span><span style=color:#960050;background-color:#1e0010>&#39;</span><span style=color:#66d9ef>null</span><span style=color:#960050;background-color:#1e0010>&#39;</span><span style=color:#f92672>}]</span>
</code></pre></div><h2 id=日期转换示例>日期转换示例</h2><p>Date与String之间的互转，需要注册一个的转换器，可以在初始化<code>MapperFactory</code>时注册全局转换器：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java>mapperFactory<span style=color:#f92672>.</span><span style=color:#a6e22e>getConverterFactory</span><span style=color:#f92672>().</span><span style=color:#a6e22e>registerConverter</span><span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> DateToStringConverter<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;yyyy-MM-dd HH:mm:ss&#34;</span><span style=color:#f92672>));</span>
</code></pre></div><p><code>DateToStringConverter</code>为内置的双向转换器，可配置时间格式，也可以自定义转换器，这里使用内置转换器。示例：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>dateMapperTest</span><span style=color:#f92672>(){</span>
        Customer c <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Customer<span style=color:#f92672>();</span>
        c<span style=color:#f92672>.</span><span style=color:#a6e22e>setBirthday</span><span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> Date<span style=color:#f92672>());</span>

        CustomerDTO cdto <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> CustomerDTO<span style=color:#f92672>();</span>
        cdto<span style=color:#f92672>.</span><span style=color:#a6e22e>setBirthday</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;2019-12-12 08:00:00&#34;</span><span style=color:#f92672>);</span>


        CustomerDTO dto <span style=color:#f92672>=</span> BeanMapperUtils<span style=color:#f92672>.</span><span style=color:#a6e22e>map</span><span style=color:#f92672>(</span>c<span style=color:#f92672>,</span> CustomerDTO<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>);</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>c<span style=color:#f92672>.</span><span style=color:#a6e22e>getBirthday</span><span style=color:#f92672>());</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>dto<span style=color:#f92672>.</span><span style=color:#a6e22e>getBirthday</span><span style=color:#f92672>());</span>

        Customer customer <span style=color:#f92672>=</span> BeanMapperUtils<span style=color:#f92672>.</span><span style=color:#a6e22e>map</span><span style=color:#f92672>(</span>cdto<span style=color:#f92672>,</span> Customer<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>);</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>customer<span style=color:#f92672>.</span><span style=color:#a6e22e>getBirthday</span><span style=color:#f92672>());</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>cdto<span style=color:#f92672>.</span><span style=color:#a6e22e>getBirthday</span><span style=color:#f92672>());</span>
    <span style=color:#f92672>}</span>
</code></pre></div><p>输出结果：</p><pre><code>Sat Dec 07 16:21:58 CST 2019
2019-12-07 16:21:58
Thu Dec 12 08:00:00 CST 2019
2019-12-12 08:00:00
</code></pre><h2 id=属性名不一致的情况的转换示例>属性名不一致的情况的转换示例</h2><p>属性名不一致的情况，需要注册转换类的属性名映射，以在初始化<code>MapperFactory</code>时注册：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java>mapperFactory<span style=color:#f92672>.</span><span style=color:#a6e22e>classMap</span><span style=color:#f92672>(</span>Customer<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>,</span> CustomerDTO<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>)</span>
                <span style=color:#f92672>.</span><span style=color:#a6e22e>field</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;id&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;customerId&#34;</span><span style=color:#f92672>)</span>
                <span style=color:#f92672>.</span><span style=color:#a6e22e>byDefault</span><span style=color:#f92672>()</span>
                <span style=color:#f92672>.</span><span style=color:#a6e22e>register</span><span style=color:#f92672>();</span>
</code></pre></div><p><code>field</code>方法可以注册多个属性名的映射。转换示例：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#a6e22e>@Test</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>fieldMapperTest</span><span style=color:#f92672>(){</span>
        Customer c <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Customer<span style=color:#f92672>();</span>
        c<span style=color:#f92672>.</span><span style=color:#a6e22e>setId</span><span style=color:#f92672>(</span>666L<span style=color:#f92672>);</span>

        CustomerDTO dto <span style=color:#f92672>=</span> BeanMapperUtils<span style=color:#f92672>.</span><span style=color:#a6e22e>map</span><span style=color:#f92672>(</span>c<span style=color:#f92672>,</span> CustomerDTO<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>);</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>c<span style=color:#f92672>.</span><span style=color:#a6e22e>getId</span><span style=color:#f92672>());</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>dto<span style=color:#f92672>.</span><span style=color:#a6e22e>getCustomerId</span><span style=color:#f92672>());</span>
    <span style=color:#f92672>}</span>
</code></pre></div><p>输出结果：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java>666
666
</code></pre></div><h1 id=参考>参考</h1><p>官方文档:http://orika-mapper.github.io/orika-docs/index.html</p></div><footer><ul class=stats><li class=categories><ul><i class="fa fa-folder"></i><li><a class=article-category-link href=https://g.nereusyi.com/categories/example>example</a></li></ul></li><li class=tags><ul><i class="fa fa-tags"></i><li><a class=article-category-link href=https://g.nereusyi.com/tags/java>java</a></li><li><a class=article-category-link href=https://g.nereusyi.com/tags/example>example</a></li></ul></li></ul></footer></article><article class=post><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return}var b=document,a=b.createElement('script');a.async=!0,a.src='//nereusyi.disqus.com/embed.js',a.setAttribute('data-timestamp',+new Date),(b.head||b.body).appendChild(a)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></article><ul class="actions pagination"><li><a href=https://g.nereusyi.com/post/2019/postman-add-common-header/ class="button big previous">Postman添加公共HTTP头</a></li><li><a href=https://g.nereusyi.com/post/2020/02/visualvm-profiler-startup-problem/ class="button big next">visualvm的profiler连接问题</a></li></ul></div><section id=sidebar><section id=intro><a href=https://g.nereusyi.com/ class=logo><img src=https://g.nereusyi.com/img/web/logo.jpg alt=Nereus></a><header><h2>Nereus</h2><p>一名Java开发</p></header><ul class=icons><li><a href=//github.com/ivyboy target=_blank title=GitHub class="fa fa-github"></a></li></ul></section><section class=recent-posts><div class=mini-posts><header><h3>Recent Posts</h3></header><div class=posts-container><article class=mini-post><header><h3><a href=https://g.nereusyi.com/post/>Post</a></h3><time class=published datetime=2021-03-20>March 20, 2021</time></header></article><article class=mini-post><header><h3><a href=https://g.nereusyi.com/post/2021/03/spring-boot-actuator-demo/>Spring Boot Actuator 2 示例</a></h3><time class=published datetime=2021-03-20>March 20, 2021</time></header></article></div><a href=/post/ class=button>View more posts</a></div></section><section id=categories><header><h3><a href=https://g.nereusyi.com/categories/>Categories</a></h3></header><p><article><header><a href=https://g.nereusyi.com/categories/java/>java</a>
<span style=float:right>6</span></header></article></p><p><article><header><a href=https://g.nereusyi.com/categories/spring-boot/>spring-boot</a>
<span style=float:right>3</span></header></article></p><p><article><header><a href=https://g.nereusyi.com/categories/docker/>docker</a>
<span style=float:right>2</span></header></article></p><p><article><header><a href=https://g.nereusyi.com/categories/jvm/>jvm</a>
<span style=float:right>2</span></header></article></p><p><article><header><a href=https://g.nereusyi.com/categories/devops/>devops</a>
<span style=float:right>1</span></header></article></p><p><article><header><a href=https://g.nereusyi.com/categories/example/>example</a>
<span style=float:right>1</span></header></article></p><p><article><header><a href=https://g.nereusyi.com/categories/life/>life</a>
<span style=float:right>1</span></header></article></p><p><article><header><a href=https://g.nereusyi.com/categories/performance/>performance</a>
<span style=float:right>1</span></header></article></p><p><article><header><a href=https://g.nereusyi.com/categories/spring-security/>spring-security</a>
<span style=float:right>1</span></header></article></p><p><article><header><a href=https://g.nereusyi.com/categories/tool/>tool</a>
<span style=float:right>1</span></header></article></p><p><article><header><a href=https://g.nereusyi.com/categories/%E5%B0%8F%E6%8A%80%E5%B7%A7/>小技巧</a>
<span style=float:right>1</span></header></article></p></section><section id=footer><p class=copyright>&copy; 2020
NereusYi
.
Powered by <a href=//gohugo.io target=_blank>Hugo</a>
<a rel=license href=http://creativecommons.org/licenses/by-nc/4.0/><img alt="Creative Commons License" style=border-width:0 src=https://i.creativecommons.org/l/by-nc/4.0/88x31.png></a><br>This site is licensed under a <a rel=license href=http://creativecommons.org/licenses/by-nc/4.0/>Creative Commons Attribution-NonCommercial 4.0 International License</a>.</p></section></section></div><a id=back-to-top href=# class="fa fa-arrow-up fa-border fa-2x"></a><script src=//cdn.bootcss.com/highlight.js/9.11.0/highlight.min.js></script><script src=//cdn.bootcss.com/highlight.js/9.11.0/languages/java.min.js></script><script>hljs.configure({languages:[]}),hljs.initHighlightingOnLoad()</script><script src=https://code.jquery.com/jquery-3.2.1.min.js integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/skel/3.0.1/skel.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.js></script><script src=https://g.nereusyi.com/js/util.js></script><script src=https://g.nereusyi.com/js/main.js></script><script src=https://g.nereusyi.com/js/backToTop.js></script><script>hljs.initHighlightingOnLoad()</script></body></html>